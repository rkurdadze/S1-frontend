<header class="header">
  <div class="header__bar">
    <div class="brand">
      <span class="brand__mark">Studio101</span>
      <span class="brand__tag">Outerwear House</span>
    </div>

    <nav class="nav">
      <a href="#collections">–ö–æ–ª–ª–µ–∫—Ü–∏–∏</a>
      <a href="#new-drop">–ù–æ–≤–æ–µ</a>
      <a href="#lookbook">Lookbook</a>
      <a href="#editorial">–ò—Å—Ç–æ—Ä–∏–∏</a>
      <a href="#newsletter">–ü–æ–¥–ø–∏—Å–∫–∞</a>
    </nav>

    <div class="header__actions">
      <div class="search">
        <input type="text" placeholder="–ü–æ–∏—Å–∫ –ø–æ –º–æ–¥–µ–ª—è–º" aria-label="–ü–æ–∏—Å–∫" />
        <span class="search__hint">#–ø—É—Ö–æ–≤–∏–∫–∏ #—Ç—Ä–µ–Ω—á–∏ #–∫–∞–ø—Å—É–ª—ã</span>
      </div>

      <div class="icons">
        <button class="icon-btn" aria-label="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
          <span class="material">‚ô°</span>
        </button>
        <a class="icon-btn" aria-label="–ö–æ—Ä–∑–∏–Ω–∞" [routerLink]="['/cart']">
          <span class="material">üõç</span>
          <span class="badge">{{ cartCount$ | async }}</span>
        </a>

        @if (isLoggedIn$ | async) {
          <div class="dropdown">
            <img
              [src]="userIcon"
              alt="–ü—Ä–æ—Ñ–∏–ª—å"
              class="user-avatar dropdown-toggle"
              id="userDropdown"
              data-bs-toggle="dropdown"
              aria-expanded="false"
              (click)="toggleDropdown($event)"
            />

            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
              @if (isAdmin) {
                <li><a class="dropdown-item" href="#" (click)="openModal()">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a></li>
                <li><hr class="dropdown-divider" /></li>
              }
              <li><a class="dropdown-item" (click)="logout()">–í—ã–π—Ç–∏</a></li>
            </ul>
          </div>
        } @else {
          <app-login-button></app-login-button>
        }
      </div>
    </div>
  </div>
</header>

<app-edit-modal
  #editModalRef
  [title]="modalTitle"
  [fields]="modalFields"
  [initialData]="modalData"
  (modalResult)="onModalResult($event)"
></app-edit-modal>
